<!DOCTYPE html>
<html lang="it">

    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
         <!-- meta properties -->
        <meta name="author" content="Romina Trazzi">
        <meta name="description" content="Esercizio to do list con Vue">
        <meta name="keywords" content="javascript, vue, whatsapp">
        <!-- / meta properties -->
        
        <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
        
        <!-- fogli di stile -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />  
        <link rel="stylesheet" href="assets/css/style.css" media="screen">
        <!-- / fogli di stile -->

        <title>Whatsapp con Vue</title>
    </head>

    <body>
        <header>
            <div id ="marine"></div>
        </header>

        <main>
            <div id = "app" class = "d_flex-center"> 
                <div class="container">
                    
                    <!-- sezione user sx -->
                    <section id = "user_sx">
                        
                        <!-- div username -->
                        <div class="username grey">
                            <div class="nome_utente d_flex-start">
                                <img src ="assets/img/avatar_io.jpg" class ="me" alt ="img_io">
                                <span class="font">Nome Utente</span>
                            </div>

                            <div class="icons_messages d_flex-spacearound">
                                <i class="fas fa-circle-notch"></i>
                                <i class="fas fa-comment-alt"></i>
                                <i class="fas fa-ellipsis-v"></i>
                            </div>
                        </div>
                        <!-- / div username -->

                        <!-- div news -->
                        <div class="news d_flex-center">

                                <div class="white bell d_flex-center">
                                    <i class="fas fa-bell-slash"></i>
                                </div>

                                <div class="notification d_flex">
                                    <p class="font new_messages">Ricevi notifiche di nuovi messaggi</p>
                                    <a href="http://" class="font">Attiva notifiche desktop</a>
                                </div>
                            
                        </div>
                        <!-- div news -->

                        <!-- div search -->
                        <div class="search d_flex-center">
                            <div class="white search_chat d_flex-start">
                                <i class="fas fa-search"></i>
                                <input type ="text" placeholder="Cerca o inizia una nuova chat">
                            </div>
                        </div>
                        <!-- / div search -->

                        <!-- div contacts -->
                        <div class="contacts">
                            <div v-for="(contact, index) in contacts" class="user white d_flex" v-on:click="changeContact(index)"> 
                                <img v-bind:src=" './assets/img/avatar' + contact.avatar +  '.jpg ' " alt="" class="avatar"> 
                                <p class ="contact_name font" > {{ contact.name }} </p>
                            </div>
                        <!-- / div contacts -->

                    </section>
                    <!-- / sezione utenti sx -->

                    <!-- sezione chat dx -->
                    <section id ="chat_dx">

                        <!-- div activePerson -->
                        <div class="activePerson grey d_flex-spacearound">
                            <div class="active_user_bar d_flex-start">
                                <img :src=" './assets/img/avatar' + contacts[utenteAttivo].avatar + '.jpg' " alt="" class="me">
                                <div class ="me font d_flex aligncenter"> 
                                    <p> {{ contacts[utenteAttivo].name }}</p>
                                    <p class ="last_login font"> Ultimo accesso oggi alle </p> 
                                </div>
                            </div>
        
                            <div class="active_icons d_flex-spaceevenly">
                                <i class="fas fa-search"></i>
                                <i class="fas fa-paperclip"></i>
                                <i class="fas fa-ellipsis-v"></i>
                            </div>
                        </div>
                        <!-- / div activePerson -->

                        <!-- div activeChat -->
                        <div class="activeChat font">
                            <div v-for ="(message, index) in contacts[utenteAttivo].messages" v-bind:class="message.status == 'received' ? 'received d_flex' : 'sent d_flex'">
                                <p> {{ message.text }} 
                                    <br> 
                                    <span class="date"> {{ message.date }} </span> 
                                </p>  
                            </div>
                        </div>
                        <!-- / div activeChat -->

                        <!-- div activeFooter -->
                        <div class="activeFooter grey d_flex">
                            <div class="write_bar d_flex-spaceevenly">
                                <i class="far fa-smile"></i>
                                <input class="white" id ="new_chat" placeholder="Scrivi un messaggio" v-on:keyup.enter="printUserMsg" v-model="nuovoMessaggio">
                                <i class="fas fa-microphone"></i>
                            </div>
                        </div>
                        <!-- div activeFooter -->

                    </section>
                    <!-- / sezione chat dx -->

                </div>
                
            </div>


        </main>
      
        
        <!-- JS + Vue + day.js development version, includes helpful console warnings -->
        <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
        <script src="https://unpkg.com/dayjs@1.8.21/dayjs.min.js"></script>
        <script src="assets/js/main.js" type ="text/javascript"></script>
        <!-- / JS + Vue + day.js development version, includes helpful console warnings -->
    </body>
</html>

